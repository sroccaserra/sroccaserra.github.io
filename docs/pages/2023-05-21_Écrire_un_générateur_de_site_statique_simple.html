<!doctype html>
<html>
    <head>
        <link href="/style/main.css" rel="stylesheet">
        <title>√âcrire un g√©n√©rateur de site statique simple</title>
        <meta charset="utf-8"/>
        <script src="/scripts/auto_reload.js"></script>
    </head>
    <body>
        <header>
            <br/>
            <center>
                <a class="title" href="/"><b>Apprendre + √âquipe = Programmes</b><br/></a>
            </center>
        </header>
        <article>
                <br/>
                <time datetime="2023-05-21">2023-05-21</time>
                <br/>
                <h1>√âcrire un g√©n√©rateur de site statique simple</h1>
                <hr/>

                <!-- contents -->

<p>
J'en avais assez de publier mes textes persos sur dev.to, o√π je restais parce-que je ne savais pas vraiment o√π publier sans trop m'emb√™ter. Comme j'ai r√©cemment √©crit un article sur l'utilit√© de savoir construire ses outils, je me suis dit que je n'avais qu'√† me construire mon propre g√©n√©rateur de site statique. J'ai fait √ßa en quelques heures pour m'amuser üéâ
</p>

<p>
R√©sultat :
</p>

<ul>
<li>28 loc de Makefile pour convertir le markdown en html et appliquer le layout commun.</li>
<li>11 loc de shell pour g√©n√©rer la table des mati√®res.</li>
<li>Une seule d√©pendance de 18 ko qui ne change plus depuis 2004 (markdown basique).</li>
<li>Utilise quelques commandes qu'on a d√©j√† sur un Linux de dev (`make`, `m4`, `grep`, `cut`, `tr`, `awk`, perl 5 pour markdown).</li>
<li>Z√©ro framework.</li>
<li>Z√©ro tracker addictif.</li>
<li>Z√©ro scroll infini addictif.</li>
<li>Z√©ro recommandations addictives.</li>
<li>Je suis pass√© d'un √©co index de 56 sur dev.to √† 95 environ (?)</li>
</ul>

<p>
Et √ßa juste marche üòÆ
</p>

<p>
Il me reste √† trouver un vrai titre √† ce site (le titre actuel est nul), et √† faire un aspect visuel correct en quelques lignes de CSS. Il y a un lien vers le code source en bas de la page.
</p>

<ul>
<li><a href="https://sroccaserra.github.io/">https://sroccaserra.github.io/</a></li>
</ul>

<p>
Ce que j'ai me semble suffisant :
</p>

<ul>
<li>Tapper `make` suffit pour mettre √† jour tout ce qui doit l'√™tre.</li>
<li>Un layout commun est appliqu√© automatiquement.</li>
<li>La liste des articles est g√©n√©r√©e automatiquement.</li>
<li>J'√©cris mes articles en markdown basique (pas de fioritures => le script markdown original de 18 ko suffit, c'est stable depuis 2004, pas de fancy g√©n√©rateur de 150+ Mo qui fait le caf√©).</li>
<li>La d√©pendance vers markdown est facile √† annuler : je peux revenir √† du HTML pur en quelques minutes en utilisant les pages g√©n√©r√©es.</li>
<li>Pour le code, la balise `&lt;pre>` plus quelques balises `&lt;b>` pour mettre en valeur une ou deux choses suffisent largement √† mes besoins, pas besoin de syntax highlighter.</li>
<li>Pour visualiser mes changements j'utilise le Python install√© par d√©faut pour d√©marrer un serveur HTTP local (un one-liner, voir Makefile).</li>
<li>J'h√©berge le site statique sur GitHub Pages, pour un d√©veloppeur √ßa me para√Æt largement suffisant.</li>
</ul>

<p>
L'exp√©rience, en plus d'√™tre amusante, m'a fait ressentir non pas une plus grande contrainte mais au contraire une lib√©ration, une plus grande l√©g√®ret√©.  En m'appuyant sur des technologies de base que je connais d√©j√† depuis 20 ans, qui existent depuis encore plus longtemps, qui sont d√©j√† install√©es partout, et qui sont stables, je me lib√®re :
</p>

<ul>
<li>D'avoir √† choisir le "meilleur" g√©n√©rateur de site statique (SSG ?) du moment.</li>
<li>Du poids d'avoir √† mettre √† jour en permanence mes d√©pendances.</li>
<li>D'avoir √† lire des changelogs et r√©parer des breaking changes tous les X ans ou Y mois.</li>
<li>D'avoir √† installer le framework X en version Y sur un nouveau PC pour travailler sur mon site.</li>
<li>D'avoir √† installer Node.js en version X ou Ruby en version Y ou Go en version Z sur un nouveau PC pour travailler sur mon site.</li>
<li>Du risque qu'un beau matin mon g√©n√©rateur de site statique soit cass√© car Node.js, Ruby, ou Go, ou une d√©pendance d'une d√©pendance, ou autre a chang√© par surprise.</li>
</ul>

<h2>Liens</h2>

<ul>
<li><a href="https://github.com/sroccaserra/sroccaserra.github.io/blob/5e17de3/Makefile">Les 28 loc de Makefile</a></li>
<li><a href="https://github.com/sroccaserra/sroccaserra.github.io/blob/aeb8c9b/src/toc.sh">Les 11 loc de script shell</a></li>
<li><a href="https://daringfireball.net/projects/markdown/">Le script markdown 1.0.1 de 2004</a></li>
</ul>

<p>
Les inspirations qui m'ont permis de construire ce g√©n√©rateur simplement et en
<br/>
peu de temps :
</p>

<ul>
<li><a href="https://fabiensanglard.net/html/index.html">All you may need is HTML, Fabien Sanglard</a></li>
<li><a href="https://technomancy.us/colophon">Phil Hagelberg's Colophon</a></li>
<li><a href="https://p.hagelb.org/Makefile.html">Phil Hagelberg's Makefile</a></li>
<li><a href="https://www.frugarilla.fr/">Les coll√®gues de Frugarilla</a></li>
<li><a href="https://danluu.com/">Le site de Dan Luu</a></li>
<li><a href="https://motherfuckingwebsite.com/">motherfuckingwebsite.com</a></li>
<li><a href="https://chrisman.github.io/9.html">chrisman.github.io/9.html</a></li>
<li><a href="https://github.com/vkitchen/apostl">github.com/vkitchen/apostl</a></li>
</ul>

        </article>
    </body>
</html>
